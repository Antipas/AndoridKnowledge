HTTP 与 HTTPS
===

HTTPS的新特效：

* 非对称加密：私钥公钥
* SSL证书：
	* 如何保证有效？用只掌握在权威机构手里的CA的私钥去签名
	* 签名算法：一般是对信息做一个 Hash 计算，得到一个 Hash 值，这个过程是不可逆的，也就是说无法通过 Hash 值得出原来的信息内容。在把信息发送出去时，把这个 Hash 值加密后，作为一个签名和信息一起发出去。
	* 要想验证证书，需要 CA 的公钥，因为CA 的公钥也需要更牛的 CA 给它签名，层层递进直到全球皆知的几个著名root CA。因此它需要花钱
	* 作用：是保证服务器的公钥的权威。其做法是对公钥进行哈希摘要算法，然后用 CA 私钥加密，伴随公钥一起发送出去。客户端收到后，用 CA 公钥解密，然后对公钥做哈希，比对哈希值是否一致来做到的。
* 加密分对称加密和非对称加密。对称加密效率高，但是解决不了密钥传输问题；非对称加密可以解决这个问题，但是效率不高。
*  非对称加密需要通过证书和权威机构来验证公钥的合法性。
*  HTTPS 是综合了对称加密和非对称加密算法的 HTTP 协议。既保证传输安全，也保证传输效率。
	* 非对称加密传送会话密钥
	* 对称加密通信

![](/https.gif)

[文章](https://www.cnblogs.com/wqhwe/p/5407468.html)



## Charles 抓取https包

Charles作为一个中继节点，当浏览器和服务器通信时，Charles接收服务器的证书，但动态生成一张证书发送给浏览器，也就是说Charles作为中间代理在浏览器和服务器之间通信，所以通信的数据可以被Charles拦截并解密。由于Charles更改了证书，浏览器校验不通过会给出安全警告，必须安装Charles的证书后才能进行正常访问。这样也可以保证HTTPS的安全性。

[有图说得清楚](https://www.jianshu.com/p/405f9d76f8c4)

